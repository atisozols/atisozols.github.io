{"version":3,"file":"js/about.9aa3fb52.js","mappings":"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","sources":["webpack://gymadmin/./src/views/AdminView.vue","webpack://gymadmin/./src/views/AdminView.vue?e347"],"sourcesContent":["<template>\n  <div class=\"admin\" :class=\"{hidden:this.loading}\">\n    <button @click=\"logout\" class=\"sign-out\" :class=\"{hidden:this.loading}\">&times;</button>\n    <h1 class=\"title\"> \n      <span class=\"title__admin\" :class=\"{hidden:this.loading}\">admin</span><br>\n      <span class=\"title__name\">skultes</span><br>\n      <span class=\"title__gym\">gym</span>\n    </h1>\n    <LoadingSpinner v-if=\"this.loading\" />\n    <div v-else>\n      <AppointmentList v-for=\"(date, index) in this.availableDates\" :appointments=\"todaysAppointments(index)\" :date=\"date.date_short\" :day=\"date.day_text\" />\n      <InputForm :appointments=\"this.appointments\"/>\n    </div>\n    <span ref=\"bottom\"></span>\n  </div>\n</template>\n\n<script>\nimport AppointmentList from '@/components/AppointmentList.vue'\nimport InputForm from '@/components/InputForm.vue'\nimport LoadingSpinner from '@/components/LoadingSpinner.vue'\nimport db from '../components/firebaseInit'\nimport { getAuth, signOut, onAuthStateChanged } from \"firebase/auth\";\nimport { collection, query, where, getDocs, orderBy } from 'firebase/firestore'\n\nexport default {\n  name: 'HomeView',\n  components: {\n    AppointmentList, LoadingSpinner, InputForm\n  }, \n  data(){\n    return{\n      auth: null,\n      appointments: [],\n      loading: true,\n      date: '',\n      day: '',\n      dayDict: {\n          'Monday': 'Pirmdien',\n          'Tuesday': 'Otrdien',\n          'Wednesday': 'Trešdien',\n          'Thursday': 'Ceturtdien',\n          'Friday': 'Piektdien',\n          'Saturday': 'Sestdien',\n          'Sunday': 'Svētdien'\n        }\n    }\n  },\n  mounted(){\n    this.auth = getAuth()\n      onAuthStateChanged(this.auth, (user) => {\n          if(!user) {\n              this.$router.push('/login')\n          }\n    }); \n    console.log('bang')\n    this.loadAppointments()\n  },\n  methods:{\n    async loadAppointments(start=this.availableDates[0].value){\n      this.loading = true\n      const q = query(this.appointmentsCollection, where(\"date\", \">=\", start), orderBy('date'), orderBy('start_index'))\n      const appointmentsSnapshot = await getDocs(q);\n      this.appointments = []\n      appointmentsSnapshot.forEach(doc => {\n        this.appointments.push(doc.data())\n      });\n      this.loading = false\n    },\n    todaysAppointments(date){\n      const appointmentList = []\n      for (const appointment of this.appointments) {\n          if(this.availableDates[date].value == appointment.date){\n            appointmentList.push(appointment)\n          }\n      }\n      return appointmentList\n    },\n    logout(){\n      this.loading = true\n      setTimeout(() => {\n        signOut(this.auth)\n      }, 1500);\n      \n    }\n  },\n  computed:{\n    availableDates() {\n      const today = new Date()\n      const startOfWeek = new Date(today)\n      const dayOfWeek = today.getDay()\n      const daysToSubtract = dayOfWeek === 0 ? 6 : dayOfWeek - 1\n      startOfWeek.setDate(today.getDate() - daysToSubtract)\n      const next7Days = []\n\n      for (let i = 0; i < 7; i++) {\n        const currentDate = new Date(startOfWeek);\n        currentDate.setDate(startOfWeek.getDate() + i);\n        \n        const dateKey = currentDate.toLocaleString('en-US', { weekday: 'long'});\n        const dateValue = currentDate.toLocaleDateString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit' });\n        const [month, day, year] = dateValue.split('/');\n        const dateVal = parseInt(year+month+day)\n        const dateLong = year + '-' + month + '-' + day\n        const europeanDateKey = `${day}/${month}`;\n\n        next7Days.push({\n          day_text: this.dayDict[dateKey],\n          date_short: europeanDateKey,\n          date: dateLong,\n          value: dateVal \n        });\n        \n      }\n      return next7Days\n    },\n    appointmentsCollection(){\n      return collection(db, 'appointments')\n    }\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;200&display=swap');\n  @import '../components/colors';\n  @import url('https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');\n  .admin{\n    transition: padding-top 1s ease;\n    padding-top: 0;\n\n    &.hidden{\n      padding-top: calc(35vh - 42px);\n    }\n  }\n\n  .sign-out{\n    position: absolute;\n    top:0;\n    right:0;\n    z-index: 1;\n    font-size: 38px;\n    border: none;\n    width: 50px;\n    height: 50px;\n    background-color: unset;\n    color: $color2;\n    cursor: pointer;\n    transition: color 1s ease;\n\n    &.hidden{\n      color: $color3;;\n    }\n  }\n\n  .title{\n    font-family: 'Jost', sans-serif;\n    font-weight: 700;\n    margin-bottom: 70px;\n    text-transform: uppercase;\n    font-style: italic;\n    margin-top: 0;\n    height: 160px;\n    \n\n    &__name{\n      font-size: 80px;\n      line-height: 50px;\n      margin: 0 auto;\n      width: 400px;\n      height: 200px;\n    }\n\n    &__gym{\n      font-size: 80px;\n      line-height: 40px;\n    }\n\n    &__admin{\n      font-size: 30px;\n      line-height: 20px;\n      transition: color 1s ease;\n\n      &.hidden{\n        color: $color3;;\n      }\n      // align-self: flex-start;\n    }\n  }  \n</style>\n","import { render } from \"./AdminView.vue?vue&type=template&id=ea95d7ae&scoped=true\"\nimport script from \"./AdminView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminView.vue?vue&type=script&lang=js\"\n\nimport \"./AdminView.vue?vue&type=style&index=0&id=ea95d7ae&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ea95d7ae\"]])\n\nexport default __exports__"],"names":["class","ref","loading","logout","availableDates","date","index","appointments","todaysAppointments","date_short","day","day_text","name","components","AppointmentList","LoadingSpinner","InputForm","data","auth","dayDict","mounted","this","user","$router","push","console","log","loadAppointments","methods","start","value","q","appointmentsCollection","appointmentsSnapshot","forEach","doc","appointmentList","appointment","setTimeout","computed","today","Date","startOfWeek","dayOfWeek","getDay","daysToSubtract","setDate","getDate","next7Days","i","currentDate","dateKey","toLocaleString","weekday","dateValue","toLocaleDateString","year","month","split","dateVal","parseInt","dateLong","europeanDateKey","__exports__","render"],"sourceRoot":""}