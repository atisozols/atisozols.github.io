(function(){"use strict";var e={136:function(e,t,n){var i=n(963),o=n(252);function a(e,t){const n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(n)}var s=n(744);const r={},l=(0,s.Z)(r,[["render",a]]);var u=l,d=n(201);const c=e=>((0,o.dD)("data-v-261554f4"),e=e(),(0,o.Cn)(),e),h={class:"home"},p=c((()=>(0,o._)("h1",{class:"title"},[(0,o.Uk)("skultes "),(0,o._)("br"),(0,o._)("span",null,"gym")],-1))),m={ref:"home"};function f(e,t,n,i,a,s){const r=(0,o.up)("Home");return(0,o.wg)(),(0,o.iD)("div",h,[p,(0,o._)("button",{class:"btn-rounded-clear",onClick:t[0]||(t[0]=(...e)=>s.scrollDown&&s.scrollDown(...e))},"Pieteikties ›"),(0,o.Wm)(r),(0,o._)("span",m,null,512)])}var v=n(577);const g=e=>((0,o.dD)("data-v-ed05b6f8"),e=e(),(0,o.Cn)(),e),b={class:"make-appointment"},y={key:0,class:"container"},w={class:"appointment-list"},D={class:"appointment"},k=["href"],_={key:1},x={class:"no-appointment"},I={class:"selectors"},S=g((()=>(0,o._)("h2",null,"Piesakies:",-1))),T=["value"],O=["value"],j=["value"],z={key:1,disabled:""},C=g((()=>(0,o._)("option",{value:-1,selected:""},"Visi laiki ir aizņemti",-1))),A=[C],M={class:"error-message"},V=g((()=>(0,o._)("input",{class:"btn",type:"submit",value:"Pieteikties"},null,-1))),P=g((()=>(0,o._)("footer",null,[(0,o._)("a",{href:"tel:+37127804609"},"☎ Atis Ozols")],-1))),U={key:1,class:"spinner"},H=g((()=>(0,o._)("div",{class:"loadingio-spinner-rolling-m1e8ui1q0jb"},[(0,o._)("div",{class:"ldio-ood1y432iu"},[(0,o._)("div")])],-1))),L=[H];function E(e,t,n,a,s,r){const l=(0,o.up)("ui-datepicker");return(0,o.wg)(),(0,o.iD)("div",b,[this.loading?((0,o.wg)(),(0,o.iD)("div",U,L)):((0,o.wg)(),(0,o.iD)("div",y,[(0,o._)("div",w,[(0,o._)("h3",null,(0,v.zw)(this.availableDates[this.dateIndex].text),1),this.todaysAppointments.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(this.todaysAppointments,(e=>((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",D,[(0,o._)("span",null,(0,v.zw)(this.timeSlots[e.start_index]+" - "+this.timeSlots[e.end_index]),1),(0,o._)("span",null,[(0,o._)("a",{class:"call",href:"tel:"+e.phone},(0,v.zw)(e.name),9,k)])])])))),256)):((0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("div",x,[(0,o._)("h5",null,(0,v.zw)(this.availableDates[this.dateIndex].text.substring(0,this.availableDates[this.dateIndex].text.length-7))+" vēl neviens nav pieteicies",1)])]))]),(0,o._)("div",I,[S,(0,o._)("form",{onSubmit:t[8]||(t[8]=(0,i.iM)((e=>r.createAppointment()),["prevent"]))},[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),type:"text",name:"name",placeholder:"Vārds, uzvārds",required:""},null,512),[[i.nr,s.name]]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.phone=e),type:"tel",name:"phone",placeholder:"Telefona numurs",required:""},null,512),[[i.nr,s.phone]]),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.dateIndex=e),onChange:t[3]||(t[3]=e=>this.time=Object.keys(this.currentTimeSlots[this.dateIndex])[0])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.availableDates,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{value:t},(0,v.zw)(this.availableDates[t].text),9,T)))),256))],544),[[i.bM,s.dateIndex]]),(0,o.Wm)(l,{modelValue:s.date,"onUpdate:modelValue":t[4]||(t[4]=e=>s.date=e),config:s.config},null,8,["modelValue","config"]),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>s.duration=e),onChange:t[6]||(t[6]=e=>this.time=Object.keys(this.currentTimeSlots[this.dateIndex])[0])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.durations,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{value:t},(0,v.zw)(e),9,O)))),256))],544),[[i.bM,s.duration]]),Object.keys(this.currentTimeSlots[this.dateIndex]).length>0?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:0,"onUpdate:modelValue":t[7]||(t[7]=e=>s.time=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.currentTimeSlots[this.dateIndex],((e,t)=>((0,o.wg)(),(0,o.iD)("option",{value:t},(0,v.zw)(e),9,j)))),256))],512)),[[i.bM,s.time]]):((0,o.wg)(),(0,o.iD)("select",z,A)),(0,o._)("label",M,(0,v.zw)(this.errorMessage),1),V],32)]),P]))])}var K=n(770),q=n(100);const Y={apiKey:"AIzaSyAbrf0VTFq_c3CrKvUqGIw29TpgeUCK71I",authDomain:"skultesgym-19f66.firebaseapp.com",projectId:"skultesgym-19f66",storageBucket:"skultesgym-19f66.appspot.com",messagingSenderId:"155818486003",appId:"1:155818486003:web:bc3563846b727d1c93ef86",measurementId:"G-YG72JSQLKL"},Z=K.Z.initializeApp(Y),F=(0,q.ad)(Z);var G=F,N=n(25),W={name:"Home",components:{UiDatepicker:N.VR},data(){return{loading:!0,errorMessage:"",date:"",config:{defaultDate:"today"},name:"",phone:"",appointments:[],dateIndex:0,duration:3,prevDuration:3,time:0,timeSlots:{0:"06:30",1:"06:45",2:"07:00",3:"07:15",4:"07:30",5:"07:45",6:"08:00",7:"08:15",8:"08:30",9:"08:45",10:"09:00",11:"09:15",12:"09:30",13:"09:45",14:"10:00",15:"10:15",16:"10:30",17:"10:45",18:"11:00",19:"11:15",20:"11:30",21:"11:45",22:"12:00",23:"12:15",24:"12:30",25:"12:45",26:"13:00",27:"13:15",28:"13:30",29:"13:45",30:"14:00",31:"14:15",32:"14:30",33:"14:45",34:"15:00",35:"15:15",36:"15:30",37:"15:45",38:"16:00",39:"16:15",40:"16:30",41:"16:45",42:"17:00",43:"17:15",44:"17:30",45:"17:45",46:"18:00",47:"18:15",48:"18:30",49:"18:45",50:"19:00",51:"19:15",52:"19:30",53:"19:45",54:"20:00",55:"20:15",56:"20:30",57:"20:45",58:"21:00",59:"21:15",60:"21:30",61:"21:45",62:"22:00",63:"22:15",64:"22:30",65:"22:45",66:"23:00",67:"23:15",68:"23:30",69:"23:45",70:"00:00"},durations:{3:"45 min",4:"60 min",5:"75 min",6:"90 min"},dayDict:{Monday:"Pirmdien",Tuesday:"Otrdien",Wednesday:"Trešdien",Thursday:"Ceturtdien",Friday:"Piektdien",Saturday:"Sestdien",Sunday:"Svētdien"}}},methods:{createAppointment(){if(Object.keys(this.currentTimeSlots[this.dateIndex]).length<1&&(this.time=-1),(this.name.length<8||this.phone.length<8)&&(this.errorMessage="Lūdzu, aizpildi visus laukus!"),-1==this.time)this.errorMessage="Lūdzu, izvēlies laiku!";else{this.errorMessage="";const e={name:this.name,phone:this.phone,date:this.availableDates[this.dateIndex].value,start_index:parseInt(this.time),end_index:parseInt(this.time)+parseInt(this.duration)};this.loading=!0,(0,q.ET)(this.appointmentsCollection,e).then((()=>{console.log("Document has been added successfully"),this.readAppointments()})).catch((e=>{console.log(e)})),this.name="",this.phone="",this.duration=3,this.time=Object.keys(this.currentTimeSlots[this.dateIndex])[0],this.loading=!1}},async readAppointments(){const e=(0,q.IO)(this.appointmentsCollection,(0,q.ar)("date",">=",this.availableDates[0].value),(0,q.Xo)("date"),(0,q.Xo)("start_index")),t=await(0,q.PL)(e);this.appointments=[],t.forEach((e=>{this.appointments.push(e.data())}))}},mounted(){this.availableDates.length>0&&(this.dateIndex=0),this.readAppointments().then((()=>{this.loading=!1})),this.time=this.currentTime},created(){},watch:{currentTime(e){this.time=e},currentTimeSlots(e){console.log("Dropdown updated!")},duration(e,t){this.prevDuration=t},currentDaySlots(e){const t=[];for(const n of Object.keys(this.currentTimeSlots[this.dateIndex]))t.push(parseInt(n));this.time=Math.min(...t)}},computed:{availableDates(){const e=new Date,t=[];for(let n=0;n<7;n++){const i=new Date(e);i.setDate(e.getDate()+n);const o=i.toLocaleString("en-US",{weekday:"long"}),a=i.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),[s,r,l]=a.split("/"),u=parseInt(l+s+r),d=`${r}/${s}`;0==n?t.push({text:"Šodien ("+d+")",value:u}):1==n?t.push({text:"Rītdien ("+d+")",value:u}):t.push({text:this.dayDict[o]+" ("+d+")",value:u})}return t},currentTime(){const e=new Date,t=e.getHours(),n=e.getMinutes(),i=60*t+n-390;var o=Math.floor(i/15)+1;return o<0&&(o=Object.keys(this.currentTimeSlots[this.dateIndex])[0]),Object.keys(this.currentTimeSlots[this.dateIndex]).length<1&&(o=-1),o},currentTimeSlots(){const e=[];for(let t=0;t<7;t++)e.push({...this.timeSlots}),delete e[t][70];for(let t=0;t<7;t++)for(const n of this.appointments)if(this.availableDates[t].value==n.date){const i=n.start_index,o=n.end_index;for(let n=i;n<o;n++)delete e[t][n]}for(let t=0;t<this.currentTime;t++)delete e[0][t];for(let t=0;t<7;t++)for(const n in e[t])for(let i=1;i<this.duration;i++)if(!e[t][parseInt(n)+parseInt(i)]){delete e[t][n];break}if(this.duration<this.prevDuration){if(this.currentTime)return;console.log("currentTime error")}return e},todaysAppointments(){const e=[];for(const t of this.appointments)this.availableDates[this.dateIndex].value==t.date&&e.push(t);return e},appointmentsCollection(){return(0,q.hJ)(G,"appointments")},currentDaySlots(){return Object.keys(this.currentTimeSlots[this.dateIndex])}}};const $=(0,s.Z)(W,[["render",E],["__scopeId","data-v-ed05b6f8"]]);var B=$,J={name:"HomeView",components:{Home:B},methods:{scrollDown(){const e=this.$refs.home;e&&e.scrollIntoView({behavior:"smooth"})}}};const R=(0,s.Z)(J,[["render",f],["__scopeId","data-v-261554f4"]]);var X=R;const Q=[{path:"/",name:"home",component:X},{path:"/about",name:"about",component:function(){return n.e(443).then(n.bind(n,782))}}],ee=(0,d.p7)({history:(0,d.r5)(),routes:Q});var te=ee;(0,i.ri)(u).use(te).use(N.ZP).mount("#app")}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,a){if(!i){var s=1/0;for(d=0;d<e.length;d++){i=e[d][0],o=e[d][1],a=e[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(r=!1,a<s&&(s=a));if(r){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,o,a]}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.6b4477c9.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="gymadmin:";n.l=function(i,o,a,s){if(e[i])e[i].push(o);else{var r,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==i||c.getAttribute("data-webpack")==t+a){r=c;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+a),r.src=i),e[i]=[o];var h=function(t,n){r.onerror=r.onload=null,clearTimeout(p);var o=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,i){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var a=new Promise((function(n,i){o=e[t]=[n,i]}));i.push(o[2]=a);var s=n.p+n.u(t),r=new Error,l=function(i){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",r.name="ChunkLoadError",r.type=a,r.request=s,o[1](r)}};n.l(s,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,a,s=i[0],r=i[1],l=i[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(l)var d=l(n)}for(t&&t(i);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},i=self["webpackChunkgymadmin"]=self["webpackChunkgymadmin"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(136)}));i=n.O(i)})();
//# sourceMappingURL=app.cb499016.js.map